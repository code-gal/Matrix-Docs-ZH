### 移植使用旧接口的现有模块

为了移植使用 Synapse 旧模块接口的模块，其作者需要：

*   确保模块的所有回调都是异步的。
*   使用模块的 `__init__` 方法中的一个或多个 `register_[...]_callbacks` 方法注册它们的回调（有关更多信息，请参见本节）。

此外，如果模块随附了额外的网络资源，模块应在其 `__init__` 方法中使用 `ModuleApi` 类的 `register_web_resource` 方法注册此资源（有关更多信息，请参见本节）。

密码认证提供者模块不再提供 `get_db_schema_files` 回调。任何对数据库的更改现在都应由模块使用模块 API 类来完成。

模块的作者还应更新模块配置中的任何示例，仅使用 Synapse 配置文件中的新 `modules` 部分（有关更多信息，请参见此部分）。