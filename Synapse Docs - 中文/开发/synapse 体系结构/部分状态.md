相反，我们尽力而为地进行近似。在房间被认为部分加入时，Synapse跟踪事件之前的“部分状态”。这与常规状态的工作方式类似：

- `J`之前的部分状态是部分加入响应中给我们的状态。
- 事件`E`之前的部分状态是`E`的`prev_event`之后每个事件的部分状态的解析。
- 如果`E`被拒绝或是消息事件，`E`之后的部分状态就是`E`之前的部分状态。
- 否则，`E`之后的部分状态是`E`之前的部分状态，加上`E`本身。

更简洁地说，部分状态传播就像完整状态一样；唯一的区别是我们用不完整的初始状态“播种”它。Synapse通过在`partial_state_events`中添加一行来记录我们仅为此事件计算了部分状态。

在房间仍然是部分状态时，对该房间的传入事件执行检查5变为：

> 5. 基于**事件`E`之前的部分状态和`E`的授权事件之间的解析**通过授权规则。如果事件未能通过授权规则，则将其拒绝。

此外，检查6被删除：不执行软失败。

在部分加入时，房间的当前部分状态定义为房间中所有前向极限之后的部分状态的解析。

_备注。_ 具有部分状态的事件不被视为[异常](../room-dag-concepts.md#outliers)。