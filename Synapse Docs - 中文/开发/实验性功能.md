### 在 Synapse 中实现实验性功能

在默认情况下禁用并必须通过 Synapse 配置显式启用的“实验性”功能可能是可取的。这适用于以下功能：

* 在 Matrix 规范中不稳定的功能（例如，由尚未合并的 MSC 定义的功能）。
* 开发人员对普通 Synapse 管理员/用户使用不自信的功能（例如，功能不完整、有缺陷、性能不佳或需要进一步测试）。

请注意，这仅适用于预计对广大受众有吸引力的功能。对于非标准功能，应调查[模块基础设施](../modules/index.md)。

将实验性功能置于配置标志之后应有助于以下一些场景：

* 确保客户端不假设存在不稳定的功能（如果不存在则优雅地失败）。
* 不稳定的功能不会成为事实上的标准，可以积极地删除（因为只有选择加入的人会受到影响）。
* 便于在 Synapse 中找到不稳定功能的实现（以便将来删除或稳定化）。
* 便于通过启用/禁用而无需代码更改来测试功能（或删除功能）。如果需要，还可以要求更广泛的测试。

实验性配置标志应默认禁用（需要 Synapse 管理员显式选择加入），尽管在某些情况下，从产品的角度来看，默认启用功能是有意义的。这是预期的，不是问题。

实验性配置标志不要求必须在配置标志之后，但如果不确定，应使用一个。

新的实验性配置标志应添加到 `experimental` 配置键下（参见 `synapse.config.experimental` 文件），并简要解释启用了什么，或包含 MSC 编号。